<html>
    <head>
        <title>Search Tasks</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    </head>
    <body>
        <h1>Search Tasks</h1>
        <form action="{{ url_for('search_tasks') }}" method="GET">
            <input type="text" name="search" placeholder="Search tasks..." value="{{ search_term }}">
            <button type="submit">Search</button>
        </form>        

        {% if tasks|length > 0 %}
            <h2>Search Results for "{{ query }}"</h2>
            <ul>
                {% for task in tasks %}
                    <li class="task">
                        <a class="task-info">
                            <h4>{{ task.name }}</h4>
                            <h5>Due: {{ task.due_date }}</h5>
                            <p>{{ task.description }}</p>
                            {% if task.completed %} Completed{% endif %}
                            {% if not task.completed %}
                                <a href="{{ url_for('complete_task', task_id=task._id) }}">Mark as complete</a>
                            {% endif %}
                            <br>Task created at: {{ task.created_time }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p><strong>No matching results found.</strong></p>
        {% endif %}

        <br>
        <a href="{{ url_for('show_home') }}">
            <button>Home</button>
        </a>
    </body>
</html>
