<html>
    <head>
        <title>Home</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
        <script src="{{ url_for('static', filename='js/index.js') }}" defer></script>
    </head>
    <body>
        <p>Welcome!</p>
        <form action="{{ url_for('add_task')}}" method="POST" id="add-task-form">
            <input type="text" name="task">
            <input type="text" name="due">
            <input type="description" name="description">
            <input type="submit">
        </form>
        <h3>Tasks: </h3>
        <ul id="tasks">
            {% for task in tasks %}
                <li class="task">
                    <a class="task-info">
                        <h4>{{ task.name }}</h4>
                        <h5>Due: {{ task.due_date }}</h5>
                        <p>{{ task.description }}</p>
                        {% if task.completed %} Completed<br>{% endif %}
                        Task created at: {{ task.created_time }}
                    </a>
                    {% if not task.completed %}<a href="{{ url_for('complete_task', task_id=task._id) }}">Mark as complete</a>{% endif %}
                    <form action="{{ url_for('edit_task', task_id=task._id) }}" method="POST" class="edit-task">
                        <input type="text" name="task">
                        <input type="text" name="due">
                        <input type="description" name="description">
                        <input type="submit">
                    </form>
                </li>
            {% endfor %}
        </ul>
    </body>
</html>